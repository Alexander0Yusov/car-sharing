{"version":3,"file":"static/js/994.3d743bdd.chunk.js","mappings":"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","sources":["webpack://car-sharing/./src/components/Gallery/Gallery.module.scss?8938","webpack://car-sharing/./src/components/GalleryItem/GalleryItem.module.scss?efc4","components/GalleryItem/GalleryItem.jsx","webpack://car-sharing/./src/components/Modal/Modal.module.scss?b72d","components/Modal/Modal.jsx","webpack://car-sharing/./src/components/PopupCard/PopupCard.module.scss?e483","components/PopupCard/PopupCard.jsx","components/Gallery/Gallery.jsx","webpack://car-sharing/./src/pages/Favorites/Favorites.module.scss?880d","pages/Favorites/Favorites.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"gallery\":\"Gallery_gallery__icp4L\",\"galleryItem\":\"Gallery_galleryItem__3I2sB\",\"button\":\"Gallery_button__WAGOp\"};","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"GalleryItem_card__norFS\",\"thumb\":\"GalleryItem_thumb__U6nAi\",\"favoriteIcon\":\"GalleryItem_favoriteIcon__UEAUa\",\"favoriteBorderIcon\":\"GalleryItem_favoriteBorderIcon__9IhOL\",\"titleWrap\":\"GalleryItem_titleWrap__NFOR9\",\"titleMain\":\"GalleryItem_titleMain__Rh7Xd\",\"titleModel\":\"GalleryItem_titleModel__vKqPA\",\"titlePrice\":\"GalleryItem_titlePrice__+xU9r\",\"details\":\"GalleryItem_details__He4YJ\",\"button\":\"GalleryItem_button__98S8y\"};","import { MdFavorite, MdFavoriteBorder } from 'react-icons/md';\nimport css from './GalleryItem.module.scss';\n\nconst GalleryItem = props => {\n  const {\n    address,\n    img,\n    make,\n    year,\n    type,\n    rentalPrice,\n    rentalCompany,\n    model,\n    mileage,\n    accessories,\n  } = props.restProps;\n\n  return (\n    <article className={css.card}>\n      <div className={css.thumb}>\n        <img src={img} alt={model}></img>\n        {props.isFavorite ? (\n          <MdFavorite\n            className={css.favoriteIcon}\n            onClick={props.toggleFavorite}\n          />\n        ) : (\n          <MdFavoriteBorder\n            className={css.favoriteBorderIcon}\n            onClick={props.toggleFavorite}\n          />\n        )}\n      </div>\n      <div className={css.titleWrap}>\n        <p className={css.titleMain}>\n          {`${make} `}\n          <span className={css.titleModel}>{`${model}, `}</span>\n          {`${year}`}\n        </p>\n        <p className={css.titlePrice}>{`${rentalPrice}`}</p>\n      </div>\n      <p className={css.details}>{`${address\n        .split(', ')\n        .slice(-2)\n        .join(\n          ' | '\n        )} | ${rentalCompany} | ${type} | ${model} | ${mileage} | ${accessories.join(\n        ' | '\n      )}`}</p>\n      <button className={css.button} onClick={props.toggleModal}>\n        Learn more\n      </button>\n    </article>\n  );\n};\n\nexport default GalleryItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"Overlay\":\"Modal_Overlay__yjDiI\",\"Modal\":\"Modal_Modal__ZZcE+\"};","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport css from './Modal.module.scss';\n\nconst modalEl = document.getElementById('modal-root');\n\nconst Modal = ({ children, onClose }) => {\n  useEffect(() => {\n    const handlerKeydown = ev => {\n      if (ev.code === 'Escape') {\n        onClose();\n      }\n    };\n\n    window.addEventListener('keydown', handlerKeydown);\n    return () => {\n      window.removeEventListener('keydown', handlerKeydown);\n    };\n  }, [onClose]);\n\n  const handlerBackdropClick = ev => {\n    if (ev.target === ev.currentTarget) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div onClick={handlerBackdropClick} className={css.Overlay}>\n      <div className={css.Modal}>{children}</div>\n    </div>,\n    modalEl\n  );\n};\n\nexport default Modal;\n","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"PopupCard_card__kRgSs\",\"closeIcon\":\"PopupCard_closeIcon__QKTDE\",\"thumb\":\"PopupCard_thumb__0JK75\",\"titleWrap\":\"PopupCard_titleWrap__0oTZ9\",\"titleModel\":\"PopupCard_titleModel__D4nAZ\",\"details\":\"PopupCard_details__SsxlE\",\"button\":\"PopupCard_button__f8f9u\",\"buttonContent\":\"PopupCard_buttonContent__ASeI+\"};","import { MdClose } from 'react-icons/md';\nimport css from './PopupCard.module.scss';\n\nconst PopupCard = props => {\n  const { address, img, make, year, type, rentalPrice, rentalCompany, model } =\n    props.item;\n\n  return (\n    <article className={css.card}>\n      <MdClose className={css.closeIcon} onClick={props.onClose} />\n      <div className={css.thumb}>\n        <img src={img} alt={model}></img>\n      </div>\n      <div className={css.titleWrap}>\n        <p className={css.titleMain}>\n          {`${make} `}\n          <span className={css.titleModel}>{`${model}, `}</span>\n          {`${year}`}\n        </p>\n        <p className={css.titlePrice}>{`${rentalPrice}`}</p>\n      </div>\n      <p className={css.details}>{`${address} | ${type} | ${rentalCompany}`}</p>\n      <a className={css.button} href=\"tel:+380730000000\">\n        <span className={css.buttonContent}>Rental car</span>\n      </a>\n    </article>\n  );\n};\n\nexport default PopupCard;\n","import { useState, useEffect } from 'react';\nimport css from './Gallery.module.scss';\nimport GalleryItem from 'components/GalleryItem/GalleryItem';\nimport Modal from 'components/Modal/Modal';\nimport PopupCard from 'components/PopupCard/PopupCard';\n\nconst LS_KEY = 'carSharingFavorite';\n\nconst Gallery = ({ items: items_, isFavorite }) => {\n  const [showModal, setShowModal] = useState(false);\n  const [selectedItem, setSelectedItem] = useState('');\n  const [page, setPage] = useState(1);\n  const [pages, setPages] = useState(0);\n  const [isLastPage, setIsLastPage] = useState(false);\n  const [moreIndex, setMoreIndex] = useState(8);\n  const [items, setItems] = useState([]);\n\n  const [favorites, setFavorites] = useState(() => {\n    const localData = localStorage.getItem(LS_KEY);\n    if (localData) {\n      return JSON.parse(localData);\n    }\n    return [];\n  });\n\n  useEffect(() => {\n    setItems(\n      items_.filter(({ id }) => (isFavorite ? favorites.includes(id) : true))\n    );\n  }, [isFavorite, favorites, items_]);\n\n  useEffect(() => {\n    const pagesCount = () => {\n      const full = Math.trunc(items.length / 8);\n      const rest = items.length % 8 > 0;\n      if (full && rest) return full + 1;\n      if (full && !rest) return full;\n      if (!full && rest) return 1;\n      if (!full && !rest) return 0;\n    };\n    setPages(pagesCount());\n  }, [items]);\n\n  useEffect(() => {\n    if (page < pages) {\n      setIsLastPage(false);\n    } else {\n      setIsLastPage(true);\n    }\n  }, [page, pages]);\n\n  useEffect(() => {\n    if (page >= 1 && !isLastPage) {\n      setMoreIndex(page * 8);\n    }\n    if (isLastPage) {\n      setMoreIndex(items.length);\n    }\n  }, [page, isLastPage, items.length]);\n\n  useEffect(() => {\n    localStorage.setItem(LS_KEY, JSON.stringify(favorites));\n  }, [favorites]);\n\n  const toggleFavorite = id => {\n    const updatedFavorites = [...favorites];\n    if (favorites.includes(id)) {\n      const deleteIndex = favorites.indexOf(id);\n      updatedFavorites.splice(deleteIndex, 1);\n      setFavorites(updatedFavorites);\n      return;\n    }\n    updatedFavorites.push(id);\n    setFavorites(updatedFavorites);\n  };\n\n  const toggleModal = id_ => {\n    if (id_) {\n      const itemToModal = items.find(({ id }) => id === id_);\n      setSelectedItem(itemToModal);\n    }\n    setShowModal(prev => !prev);\n  };\n\n  const incrementPage = () => setPage(prev => prev + 1);\n\n  return (\n    <>\n      <ul className={css.gallery}>\n        {items.slice(0, moreIndex).map(({ id, ...restProps }) => {\n          return (\n            <li key={id} className={css.galleryItem}>\n              <GalleryItem\n                restProps={restProps}\n                isFavorite={favorites.includes(id)}\n                toggleFavorite={() => toggleFavorite(id)}\n                toggleModal={() => toggleModal(id)}\n              />\n            </li>\n          );\n        })}\n        {!isLastPage && (\n          <li className={css.galleryItem}>\n            <button className={css.button} onClick={incrementPage}>\n              Load more\n            </button>\n          </li>\n        )}\n      </ul>\n\n      {showModal && (\n        <Modal onClose={toggleModal}>\n          <PopupCard item={selectedItem} onClose={toggleModal} />\n        </Modal>\n      )}\n    </>\n  );\n};\n\nexport default Gallery;\n","// extracted by mini-css-extract-plugin\nexport default {\"responseParagraph\":\"Favorites_responseParagraph__vaXpT\"};","import { useEffect, useState } from 'react';\nimport css from './Favorites.module.scss';\nimport Gallery from 'components/Gallery/Gallery';\n\nconst Favorites = () => {\n  const [response, setResponse] = useState([]);\n  const [responseStatus, setResponseStatus] = useState('');\n\n  useEffect(() => {\n    const getData = () => {\n      fetch(`https://647bc928c0bae2880ad03fe8.mockapi.io/adverts`)\n        .then(res => res.json())\n        .then(res => {\n          setResponse(res);\n        })\n        .catch(er => setResponseStatus(er.message));\n    };\n    getData();\n  }, []);\n\n  return (\n    <>\n      {response.length !== 0 ? (\n        <Gallery items={response} isFavorite={true} />\n      ) : (\n        <p className={css.responseParagraph}>{responseStatus} </p>\n      )}\n    </>\n  );\n};\n\nexport default Favorites;\n"],"names":["props","restProps","address","img","make","year","type","rentalPrice","rentalCompany","model","mileage","accessories","className","css","src","alt","isFavorite","onClick","toggleFavorite","split","slice","join","toggleModal","modalEl","document","getElementById","children","onClose","useEffect","handlerKeydown","ev","code","window","addEventListener","removeEventListener","createPortal","target","currentTarget","item","href","LS_KEY","items_","items","useState","showModal","setShowModal","selectedItem","setSelectedItem","page","setPage","pages","setPages","isLastPage","setIsLastPage","moreIndex","setMoreIndex","setItems","localData","localStorage","getItem","JSON","parse","favorites","setFavorites","filter","id","includes","full","Math","trunc","length","rest","pagesCount","setItem","stringify","id_","itemToModal","find","prev","map","updatedFavorites","deleteIndex","indexOf","splice","push","response","setResponse","responseStatus","setResponseStatus","fetch","then","res","json","catch","er","message","Gallery"],"sourceRoot":""}