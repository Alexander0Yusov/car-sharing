"use strict";(self.webpackChunkcar_sharing=self.webpackChunkcar_sharing||[]).push([[616],{950:function(e,a,t){t.d(a,{Z:function(){return E}});var n=t(925),l=t(433),r=t(439),c=t(791),i="Gallery_gallery__icp4L",o="Gallery_galleryItem__3I2sB",s="Gallery_button__WAGOp",u=t(322),d="GalleryItem_card__norFS",m="GalleryItem_thumb__U6nAi",p="GalleryItem_favoriteIcon__UEAUa",_="GalleryItem_favoriteBorderIcon__9IhOL",h="GalleryItem_titleWrap__NFOR9",f="GalleryItem_titleMain__Rh7Xd",v="GalleryItem_titleModel__vKqPA",b="GalleryItem_titlePrice__+xU9r",x="GalleryItem_details__He4YJ",j="GalleryItem_button__98S8y",g=t(184),N=function(e){var a=e.restProps,t=a.address,n=a.img,l=a.make,r=a.year,c=a.type,i=a.rentalPrice,o=a.rentalCompany,s=a.model,N=a.mileage,y=a.accessories;return(0,g.jsxs)("article",{className:d,children:[(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("img",{src:n,alt:s}),e.isFavorite?(0,g.jsx)(u.Yqy,{className:p,onClick:e.toggleFavorite}):(0,g.jsx)(u.iqB,{className:_,onClick:e.toggleFavorite})]}),(0,g.jsxs)("div",{className:h,children:[(0,g.jsxs)("p",{className:f,children:["".concat(l," "),(0,g.jsx)("span",{className:v,children:"".concat(s,", ")}),"".concat(r)]}),(0,g.jsx)("p",{className:b,children:"".concat(i)})]}),(0,g.jsx)("p",{className:x,children:"".concat(t.split(", ").slice(-2).join(" | ")," | ").concat(o," | ").concat(c," | ").concat(s," | ").concat(N," | ").concat(y.join(" | "))}),(0,g.jsx)("button",{className:j,onClick:e.toggleModal,children:"Learn more"})]})},y=t(164),C="Modal_Overlay__yjDiI",Z="Modal_Modal__ZZcE+",S=document.getElementById("modal-root"),k=function(e){var a=e.children,t=e.onClose;(0,c.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return(0,y.createPortal)((0,g.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&t()},className:C,children:(0,g.jsx)("div",{className:Z,children:a})}),S)},F={card:"PopupCard_card__kRgSs",closeIcon:"PopupCard_closeIcon__QKTDE",thumb:"PopupCard_thumb__0JK75",titleWrap:"PopupCard_titleWrap__0oTZ9",titleModel:"PopupCard_titleModel__D4nAZ",details:"PopupCard_details__SsxlE",button:"PopupCard_button__f8f9u",buttonContent:"PopupCard_buttonContent__ASeI+"},I=function(e){var a=e.item,t=a.address,n=a.img,l=a.make,r=a.year,c=a.type,i=a.rentalPrice,o=a.rentalCompany,s=a.model;return(0,g.jsxs)("article",{className:F.card,children:[(0,g.jsx)(u.FU5,{className:F.closeIcon,onClick:e.onClose}),(0,g.jsx)("div",{className:F.thumb,children:(0,g.jsx)("img",{src:n,alt:s})}),(0,g.jsxs)("div",{className:F.titleWrap,children:[(0,g.jsxs)("p",{className:F.titleMain,children:["".concat(l," "),(0,g.jsx)("span",{className:F.titleModel,children:"".concat(s,", ")}),"".concat(r)]}),(0,g.jsx)("p",{className:F.titlePrice,children:"".concat(i)})]}),(0,g.jsx)("p",{className:F.details,children:"".concat(t," | ").concat(c," | ").concat(o)}),(0,g.jsx)("a",{className:F.button,href:"tel:+380730000000",children:(0,g.jsx)("span",{className:F.buttonContent,children:"Rental car"})})]})},P=["id"],M="carSharingFavorite",E=function(e){var a=e.items,t=e.isFavorite,u=(0,c.useState)(!1),d=(0,r.Z)(u,2),m=d[0],p=d[1],_=(0,c.useState)(""),h=(0,r.Z)(_,2),f=h[0],v=h[1],b=(0,c.useState)(1),x=(0,r.Z)(b,2),j=x[0],y=x[1],C=(0,c.useState)(0),Z=(0,r.Z)(C,2),S=Z[0],F=Z[1],E=(0,c.useState)(!1),G=(0,r.Z)(E,2),L=G[0],B=G[1],D=(0,c.useState)(8),T=(0,r.Z)(D,2),w=T[0],A=T[1],W=(0,c.useState)([]),O=(0,r.Z)(W,2),R=O[0],H=O[1],q=(0,c.useState)((function(){var e=localStorage.getItem(M);return e?JSON.parse(e):[]})),K=(0,r.Z)(q,2),U=K[0],J=K[1];(0,c.useEffect)((function(){H(a.filter((function(e){var a=e.id;return!t||U.includes(a)})))}),[t,U,a]),(0,c.useEffect)((function(){F(function(){var e=Math.trunc(R.length/8),a=R.length%8>0;return e&&a?e+1:e&&!a?e:!e&&a?1:e||a?void 0:0}())}),[R]),(0,c.useEffect)((function(){B(!(j<S))}),[j,S]),(0,c.useEffect)((function(){j>=1&&!L&&A(8*j),L&&A(R.length)}),[j,L,R.length]),(0,c.useEffect)((function(){localStorage.setItem(M,JSON.stringify(U))}),[U]);var z=function(e){if(e){var a=R.find((function(a){return a.id===e}));v(a)}p((function(e){return!e}))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("ul",{className:i,children:[R.slice(0,w).map((function(e){var a=e.id,t=(0,n.Z)(e,P);return(0,g.jsx)("li",{className:o,children:(0,g.jsx)(N,{restProps:t,isFavorite:U.includes(a),toggleFavorite:function(){return function(e){var a=(0,l.Z)(U);if(U.includes(e)){var t=U.indexOf(e);return a.splice(t,1),void J(a)}a.push(e),J(a)}(a)},toggleModal:function(){return z(a)}})},a)})),!L&&(0,g.jsx)("li",{className:o,children:(0,g.jsx)("button",{className:s,onClick:function(){return y((function(e){return e+1}))},children:"Load more"})})]}),m&&(0,g.jsx)(k,{onClose:z,children:(0,g.jsx)(I,{item:f,onClose:z})})]})}},616:function(e,a,t){t.r(a),t.d(a,{default:function(){return _}});var n=t(762),l=t(439),r=t(87),c=t(791),i="Catalog_responseParagraph__n+yyy",o=t(950),s=t(413),u=t(314),d={form:"Form_form__psS5c",label:"Form_label__rhxgy",labelBrand:"Form_labelBrand__xAKtB",labelPrice:"Form_labelPrice__ulDTy",subInput:"Form_subInput__6H74q",labelDistance:"Form_labelDistance__5HiCO",inputsWrap:"Form_inputsWrap__qdkZx",input:"Form_input__EwUhk",inputDistanceLeft:"Form_inputDistanceLeft__p6qra",inputDistanceRight:"Form_inputDistanceRight__J2dG-",button:"Form_button__FAdM1"},m=t(184),p=function(){var e=(0,c.useState)(""),a=(0,l.Z)(e,2),t=a[0],n=a[1],i=(0,c.useState)(""),o=(0,l.Z)(i,2),p=o[0],_=o[1],h=(0,c.useState)(""),f=(0,l.Z)(h,2),v=f[0],b=f[1],x=(0,c.useState)(""),j=(0,l.Z)(x,2),g=j[0],N=j[1],y=(0,r.lr)(),C=(0,l.Z)(y,2),Z=C[0],S=C[1],k={brand:n,price:_,kmFrom:b,kmTo:N,forSuccessDeploy:Z},F={control:function(e,a){return(0,s.Z)((0,s.Z)({},e),{},{border:"0",padding:"0 0 0 4px",marginTop:"auto",width:"224px",height:"48px",fontSize:"16px",borderRadius:"12px",outline:"none"})},placeholder:function(e,a){return(0,s.Z)((0,s.Z)({},e),{},{color:"black"})}},I=function(e){var a=e.currentTarget,t=a.name,n=a.value;k[t](n)};return(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a={};null!==t&&void 0!==t&&t.value&&(a.brand=t.value),p&&(a.price=p),g&&(a.kmTo=g),v&&(a.kmFrom=v),S(a)},className:d.form,autoComplete:"off",children:[(0,m.jsxs)("label",{className:"".concat(d.label," ").concat(d.labelBrand),children:["Car brand",(0,m.jsx)(u.ZP,{options:[{value:"Buick",label:"Buick"},{value:"Volvo",label:"Volvo"},{value:"Hummer",label:"Hummer"},{value:"Subaru",label:"Subaru"},{value:"Mitsubishi",label:"Mitsubishi"},{value:"Nissan",label:"Nissan"},{value:"Lincoln",label:"Lincoln"},{value:"GMC",label:"GMC"},{value:"Hyundai",label:"Hyundai"},{value:"MINI",label:"MINI"},{value:"Bentley",label:"Bentley"},{value:"Mercedes-Benz",label:"Mercedes-Benz"},{value:"Aston Martin",label:"Aston Martin"},{value:"Pontiac",label:"Pontiac"},{value:"Lamborghini",label:"Lamborghini"},{value:"Audi",label:"Audi"},{value:"BMW",label:"BMW"},{value:"Chevrolet",label:"Chevrolet"},{value:"Chrysler",label:"Chrysler"},{value:"Kia",label:"Kia"},{value:"Land",label:"Land"}],value:t,onChange:function(e){n(e)},styles:F})]}),(0,m.jsxs)("label",{className:"".concat(d.label," ").concat(d.labelPrice),children:["Price/ 1 hour",(0,m.jsxs)("select",{name:"price",value:p,onChange:I,className:"".concat(d.input,"  ").concat(d.inputPrice),children:[(0,m.jsx)("option",{value:"",children:"To $"}),(0,m.jsx)("option",{value:"30",children:"30"}),(0,m.jsx)("option",{value:"40",children:"40"}),(0,m.jsx)("option",{value:"50",children:"50"}),(0,m.jsx)("option",{value:"100",children:"100"}),(0,m.jsx)("option",{value:"200",children:"200"}),(0,m.jsx)("option",{value:"300",children:"300"}),(0,m.jsx)("option",{value:"400",children:"400"}),(0,m.jsx)("option",{value:"500",children:"500"})]}),p&&(0,m.jsx)("div",{className:d.subInput,children:"To ".concat(p," $")})]}),(0,m.jsxs)("label",{className:"".concat(d.label," ").concat(d.labelDistance),children:["Car mileage / km",(0,m.jsxs)("div",{className:d.inputsWrap,children:[(0,m.jsx)("input",{type:"text",name:"kmFrom",value:v,onChange:I,className:"".concat(d.input," ").concat(d.inputDistanceLeft),placeholder:"From"}),(0,m.jsx)("input",{type:"text",name:"kmTo",value:g,onChange:I,className:"".concat(d.input," ").concat(d.inputDistanceRight),placeholder:"To"})]})]}),(0,m.jsx)("button",{className:d.button,type:"submit",children:"Search"})]})},_=function(){var e=(0,c.useState)([]),a=(0,l.Z)(e,2),t=a[0],s=a[1],u=(0,c.useState)([]),d=(0,l.Z)(u,2),_=d[0],h=d[1],f=(0,c.useState)(""),v=(0,l.Z)(f,2),b=v[0],x=v[1],j=(0,r.lr)(),g=(0,l.Z)(j,1)[0];return(0,c.useEffect)((function(){fetch("https://647bc928c0bae2880ad03fe8.mockapi.io/adverts").then((function(e){return e.json()})).then((function(e){s(e)})).catch((function(e){return x(e.message)}))}),[]),(0,c.useEffect)((function(){var e,a={},r=(0,n.Z)(g);try{for(r.s();!(e=r.n()).done;){var c=(0,l.Z)(e.value,2),i=c[0],o=c[1];a[i]=o}}catch(p){r.e(p)}finally{r.f()}var s=a.brand,u=a.price,d=a.kmFrom,m=a.kmTo;h(t.filter((function(e){var a=e.make;return!s||a.toLowerCase()===s.toLowerCase()})).filter((function(e){var a=e.rentalPrice;return!u||Number(a.split("$")[1])<=Number(u)})).filter((function(e){var a=e.mileage;return!d||Number(a)>=Number(d)})).filter((function(e){var a=e.mileage;return!m||Number(a)<=Number(m)})))}),[g,t]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(p,{}),0!==t.length?(0,m.jsx)(o.Z,{items:_,isFavorite:!1}):(0,m.jsxs)("p",{className:i,children:[b," "]})]})}}}]);
//# sourceMappingURL=616.cd3b78cf.chunk.js.map