"use strict";(self.webpackChunkcar_sharing=self.webpackChunkcar_sharing||[]).push([[994],{950:function(e,t,n){n.d(t,{Z:function(){return G}});var a=n(925),r=n(433),c=n(439),s=n(791),l="Gallery_gallery__icp4L",i="Gallery_galleryItem__3I2sB",o="Gallery_button__WAGOp",u=n(322),d="GalleryItem_card__norFS",_="GalleryItem_thumb__U6nAi",m="GalleryItem_favoriteIcon__UEAUa",f="GalleryItem_favoriteBorderIcon__9IhOL",h="GalleryItem_titleWrap__NFOR9",p="GalleryItem_titleMain__Rh7Xd",v="GalleryItem_titleModel__vKqPA",j="GalleryItem_titlePrice__+xU9r",x="GalleryItem_details__He4YJ",g="GalleryItem_button__98S8y",N=n(184),y=function(e){var t=e.restProps,n=t.address,a=t.img,r=t.make,c=t.year,s=t.type,l=t.rentalPrice,i=t.rentalCompany,o=t.model,y=t.mileage,C=t.accessories;return(0,N.jsxs)("article",{className:d,children:[(0,N.jsxs)("div",{className:_,children:[(0,N.jsx)("img",{src:a,alt:o}),e.isFavorite?(0,N.jsx)(u.Yqy,{className:m,onClick:e.toggleFavorite}):(0,N.jsx)(u.iqB,{className:f,onClick:e.toggleFavorite})]}),(0,N.jsxs)("div",{className:h,children:[(0,N.jsxs)("p",{className:p,children:["".concat(r," "),(0,N.jsx)("span",{className:v,children:"".concat(o,", ")}),"".concat(c)]}),(0,N.jsx)("p",{className:j,children:"".concat(l)})]}),(0,N.jsx)("p",{className:x,children:"".concat(n.split(", ").slice(-2).join(" | ")," | ").concat(i," | ").concat(s," | ").concat(o," | ").concat(y," | ").concat(C.join(" | "))}),(0,N.jsx)("button",{className:g,onClick:e.toggleModal,children:"Learn more"})]})},C=n(164),I="Modal_Overlay__yjDiI",S="Modal_Modal__ZZcE+",b=document.getElementById("modal-root"),Z=function(e){var t=e.children,n=e.onClose;(0,s.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]);return(0,C.createPortal)((0,N.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&n()},className:I,children:(0,N.jsx)("div",{className:S,children:t})}),b)},P={card:"PopupCard_card__kRgSs",closeIcon:"PopupCard_closeIcon__QKTDE",thumb:"PopupCard_thumb__0JK75",titleWrap:"PopupCard_titleWrap__0oTZ9",titleModel:"PopupCard_titleModel__D4nAZ",details:"PopupCard_details__SsxlE",button:"PopupCard_button__f8f9u",buttonContent:"PopupCard_buttonContent__ASeI+"},k=function(e){var t=e.item,n=t.address,a=t.img,r=t.make,c=t.year,s=t.type,l=t.rentalPrice,i=t.rentalCompany,o=t.model;return(0,N.jsxs)("article",{className:P.card,children:[(0,N.jsx)(u.FU5,{className:P.closeIcon,onClick:e.onClose}),(0,N.jsx)("div",{className:P.thumb,children:(0,N.jsx)("img",{src:a,alt:o})}),(0,N.jsxs)("div",{className:P.titleWrap,children:[(0,N.jsxs)("p",{className:P.titleMain,children:["".concat(r," "),(0,N.jsx)("span",{className:P.titleModel,children:"".concat(o,", ")}),"".concat(c)]}),(0,N.jsx)("p",{className:P.titlePrice,children:"".concat(l)})]}),(0,N.jsx)("p",{className:P.details,children:"".concat(n," | ").concat(s," | ").concat(i)}),(0,N.jsx)("a",{className:P.button,href:"tel:+380730000000",children:(0,N.jsx)("span",{className:P.buttonContent,children:"Rental car"})})]})},E=["id"],F="carSharingFavorite",G=function(e){var t=e.items,n=e.isFavorite,u=(0,s.useState)(!1),d=(0,c.Z)(u,2),_=d[0],m=d[1],f=(0,s.useState)(""),h=(0,c.Z)(f,2),p=h[0],v=h[1],j=(0,s.useState)(1),x=(0,c.Z)(j,2),g=x[0],C=x[1],I=(0,s.useState)(0),S=(0,c.Z)(I,2),b=S[0],P=S[1],G=(0,s.useState)(!1),M=(0,c.Z)(G,2),w=M[0],O=M[1],A=(0,s.useState)(8),L=(0,c.Z)(A,2),U=L[0],W=L[1],B=(0,s.useState)([]),J=(0,c.Z)(B,2),R=J[0],T=J[1],q=(0,s.useState)((function(){var e=localStorage.getItem(F);return e?JSON.parse(e):[]})),D=(0,c.Z)(q,2),K=D[0],X=D[1];(0,s.useEffect)((function(){T(t.filter((function(e){var t=e.id;return!n||K.includes(t)})))}),[n,K,t]),(0,s.useEffect)((function(){P(function(){var e=Math.trunc(R.length/8),t=R.length%8>0;return e&&t?e+1:e&&!t?e:!e&&t?1:e||t?void 0:0}())}),[R]),(0,s.useEffect)((function(){O(!(g<b))}),[g,b]),(0,s.useEffect)((function(){g>=1&&!w&&W(8*g),w&&W(R.length)}),[g,w,R.length]),(0,s.useEffect)((function(){localStorage.setItem(F,JSON.stringify(K))}),[K]);var Y=function(e){if(e){var t=R.find((function(t){return t.id===e}));v(t)}m((function(e){return!e}))};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("ul",{className:l,children:[R.slice(0,U).map((function(e){var t=e.id,n=(0,a.Z)(e,E);return(0,N.jsx)("li",{className:i,children:(0,N.jsx)(y,{restProps:n,isFavorite:K.includes(t),toggleFavorite:function(){return function(e){var t=(0,r.Z)(K);if(K.includes(e)){var n=K.indexOf(e);return t.splice(n,1),void X(t)}t.push(e),X(t)}(t)},toggleModal:function(){return Y(t)}})},t)})),!w&&(0,N.jsx)("li",{className:i,children:(0,N.jsx)("button",{className:o,onClick:function(){return C(g+1)},children:"Load more"})})]}),_&&(0,N.jsx)(Z,{onClose:Y,children:(0,N.jsx)(k,{item:p,onClose:Y})})]})}},994:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var a=n(439),r=n(791),c="Favorites_responseParagraph__vaXpT",s=n(950),l=n(184),i=function(){var e=(0,r.useState)([]),t=(0,a.Z)(e,2),n=t[0],i=t[1],o=(0,r.useState)(""),u=(0,a.Z)(o,2),d=u[0],_=u[1];return(0,r.useEffect)((function(){fetch("https://647bc928c0bae2880ad03fe8.mockapi.io/adverts").then((function(e){return e.json()})).then((function(e){i(e)})).catch((function(e){return _(e.message)}))}),[]),(0,l.jsx)(l.Fragment,{children:0!==n.length?(0,l.jsx)(s.Z,{items:n,isFavorite:!0}):(0,l.jsxs)("p",{className:c,children:[d," "]})})}}}]);
//# sourceMappingURL=994.6c576bff.chunk.js.map